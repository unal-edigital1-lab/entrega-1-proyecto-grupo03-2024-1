$date
	Wed Aug 07 20:17:28 2024
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module i2c_controller_tb $end
$scope module master $end
$var wire 7 ! addr [6:0] $end
$var wire 1 " clk $end
$var wire 8 # data_in [7:0] $end
$var wire 1 $ enable $end
$var wire 1 % i2c_sda $end
$var wire 1 & rst $end
$var wire 1 ' rw $end
$var wire 1 ( ready $end
$var wire 1 ) i2c_scl $end
$var parameter 32 * ADDRESS $end
$var parameter 32 + DIVIDE_BY $end
$var parameter 32 , IDLE $end
$var parameter 32 - READ_ACK $end
$var parameter 32 . READ_ACK2 $end
$var parameter 32 / READ_DATA $end
$var parameter 32 0 START $end
$var parameter 32 1 STOP $end
$var parameter 32 2 WRITE_ACK $end
$var parameter 32 3 WRITE_DATA $end
$var reg 8 4 counter [7:0] $end
$var reg 8 5 counter2 [7:0] $end
$var reg 8 6 data_out [7:0] $end
$var reg 1 7 i2c_clk $end
$var reg 1 8 i2c_scl_enable $end
$var reg 8 9 saved_addr [7:0] $end
$var reg 8 : saved_data [7:0] $end
$var reg 1 ; sda_out $end
$var reg 8 < state [7:0] $end
$var reg 1 = write_enable $end
$upscope $end
$upscope $end
$scope module i2c_controller_tb $end
$scope module slave $end
$var wire 1 ) scl $end
$var wire 1 % sda $end
$var parameter 7 > ADDRESS $end
$var parameter 32 ? READ_ADDR $end
$var parameter 32 @ READ_DATA $end
$var parameter 32 A SEND_ACK $end
$var parameter 32 B SEND_ACK2 $end
$var parameter 32 C WRITE_DATA $end
$var reg 8 D addr [7:0] $end
$var reg 8 E counter [7:0] $end
$var reg 8 F data_in [7:0] $end
$var reg 8 G data_out [7:0] $end
$var reg 1 H sda_in $end
$var reg 1 I sda_out $end
$var reg 1 J start $end
$var reg 8 K state [7:0] $end
$var reg 1 L write_enable $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b11 C
b100 B
b1 A
b10 @
b0 ?
b101010 >
b100 3
b101 2
b1000 1
b1 0
b110 /
b111 .
b11 -
b0 ,
b100 +
b10 *
$end
#0
$dumpvars
0L
b0 K
0J
0I
0H
b11001100 G
b0 F
bx E
bx D
1=
b0 <
1;
bx :
bx 9
08
17
bx 6
b0 5
bx 4
1)
0(
x'
1&
1%
x$
bx #
0"
bx !
$end
#1000
b1 5
1"
#2000
0"
#3000
b0 5
07
1"
#4000
0"
#5000
b1 5
1"
#6000
0"
#7000
b0 5
17
1"
#8000
0"
#9000
b1 5
1"
#10000
0"
#11000
b0 5
07
1"
#12000
0"
#13000
b1 5
1"
#14000
0"
#15000
b0 5
17
1"
#16000
0"
#17000
b1 5
1"
#18000
0"
#19000
b0 5
07
1"
#20000
0"
#21000
b1 5
1"
#22000
0"
#23000
b0 5
17
1"
#24000
0"
#25000
b1 5
1"
#26000
0"
#27000
b0 5
07
1"
#28000
0"
#29000
b1 5
1"
#30000
0"
#31000
b0 5
17
1"
#32000
0"
#33000
b1 5
1"
#34000
0"
#35000
b0 5
07
1"
#36000
0"
#37000
b1 5
1"
#38000
0"
#39000
b0 5
17
1"
#40000
0"
#41000
b1 5
1"
#42000
0"
#43000
b0 5
07
1"
#44000
0"
#45000
b1 5
1"
#46000
0"
#47000
b0 5
17
1"
#48000
0"
#49000
b1 5
1"
#50000
0"
#51000
b0 5
07
1"
#52000
0"
#53000
b1 5
1"
#54000
0"
#55000
b0 5
17
1"
#56000
0"
#57000
b1 5
1"
#58000
0"
#59000
b0 5
07
1"
#60000
0"
#61000
b1 5
1"
#62000
0"
#63000
b0 5
17
1"
#64000
0"
#65000
b1 5
1"
#66000
0"
#67000
b0 5
07
1"
#68000
0"
#69000
b1 5
1"
#70000
0"
#71000
b0 5
17
1"
#72000
0"
#73000
b1 5
1"
#74000
0"
#75000
b0 5
07
1"
#76000
0"
#77000
b1 5
1"
#78000
0"
#79000
b0 5
17
1"
#80000
0"
#81000
b1 5
1"
#82000
0"
#83000
b0 5
07
1"
#84000
0"
#85000
b1 5
1"
#86000
0"
#87000
b0 5
17
1"
#88000
0"
#89000
b1 5
1"
#90000
0"
#91000
b0 5
07
1"
#92000
0"
#93000
b1 5
1"
#94000
0"
#95000
b0 5
17
1"
#96000
0"
#97000
b1 5
1"
#98000
0"
#99000
b0 5
07
1"
#100000
1(
0"
1$
0'
b10101010 #
b101010 !
0&
#101000
b1 5
1"
#102000
0"
#103000
0(
b10101010 :
b1010100 9
b1 <
b0 5
17
1"
#104000
0"
#105000
b1 5
1"
#106000
0"
#107000
b111 E
1J
0%
0;
b0 5
07
1"
#108000
0"
#109000
b1 5
1"
#110000
0"
0$
#111000
b10 <
b111 4
b0 5
17
1"
#112000
0"
#113000
b1 5
1"
#114000
0"
#115000
0)
18
b0 5
07
1"
#116000
0"
#117000
b1 5
1"
#118000
0"
#119000
b110 E
b0xxxxxxx D
b110 4
1)
b0 5
17
1"
#120000
0"
#121000
b1 5
1"
#122000
0"
#123000
1%
1;
0)
b0 5
07
1"
#124000
0"
#125000
b1 5
1"
#126000
0"
#127000
b101 E
b1xxxxxx D
b101 4
1)
b0 5
17
1"
#128000
0"
#129000
b1 5
1"
#130000
0"
#131000
0%
0;
0)
b0 5
07
1"
#132000
0"
#133000
b1 5
1"
#134000
0"
#135000
b100 E
b10xxxxx D
b100 4
1)
b0 5
17
1"
#136000
0"
#137000
b1 5
1"
#138000
0"
#139000
1%
1;
0)
b0 5
07
1"
#140000
0"
#141000
b1 5
1"
#142000
0"
#143000
b11 E
b101xxxx D
b11 4
1)
b0 5
17
1"
#144000
0"
#145000
b1 5
1"
#146000
0"
#147000
0%
0;
0)
b0 5
07
1"
#148000
0"
#149000
b1 5
1"
#150000
0"
#151000
b10 E
b1010xxx D
b10 4
1)
b0 5
17
1"
#152000
0"
#153000
b1 5
1"
#154000
0"
#155000
1%
1;
0)
b0 5
07
1"
#156000
0"
#157000
b1 5
1"
#158000
0"
#159000
b1 E
b10101xx D
b1 4
1)
b0 5
17
1"
#160000
0"
#161000
b1 5
1"
#162000
0"
#163000
0%
0;
0)
b0 5
07
1"
#164000
0"
#165000
b1 5
1"
#166000
0"
#167000
b0 E
b101010x D
b0 4
1)
b0 5
17
1"
#168000
0"
#169000
b1 5
1"
#170000
0"
#171000
0)
b0 5
07
1"
#172000
0"
#173000
b1 5
1"
#174000
0"
#175000
b1 K
b1010100 D
b11 <
1)
b0 5
17
1"
#176000
0"
#177000
b1 5
1"
#178000
0"
#179000
0%
1L
0=
0)
b0 5
07
1"
#180000
0"
#181000
b1 5
1"
#182000
0"
#183000
b10 K
b111 E
b100 <
b111 4
1)
b0 5
17
1"
#184000
0"
#185000
b1 5
1"
#186000
0"
#187000
1%
0L
1;
1=
0)
b0 5
07
1"
#188000
0"
#189000
b1 5
1"
#190000
0"
#191000
b110 E
b10000000 F
b110 4
1)
b0 5
17
1"
#192000
0"
#193000
b1 5
1"
#194000
0"
#195000
0%
0;
0)
b0 5
07
1"
#196000
0"
#197000
b1 5
1"
#198000
0"
#199000
b101 E
b101 4
1)
b0 5
17
1"
#200000
0"
#201000
b1 5
1"
#202000
0"
#203000
1%
1;
0)
b0 5
07
1"
#204000
0"
#205000
b1 5
1"
#206000
0"
#207000
b100 E
b10100000 F
b100 4
1)
b0 5
17
1"
#208000
0"
#209000
b1 5
1"
#210000
0"
#211000
0%
0;
0)
b0 5
07
1"
#212000
0"
#213000
b1 5
1"
#214000
0"
#215000
b11 E
b11 4
1)
b0 5
17
1"
#216000
0"
#217000
b1 5
1"
#218000
0"
#219000
1%
1;
0)
b0 5
07
1"
#220000
0"
#221000
b1 5
1"
#222000
0"
#223000
b10 E
b10101000 F
b10 4
1)
b0 5
17
1"
#224000
0"
#225000
b1 5
1"
#226000
0"
#227000
0%
0;
0)
b0 5
07
1"
#228000
0"
#229000
b1 5
1"
#230000
0"
#231000
b1 E
b1 4
1)
b0 5
17
1"
#232000
0"
#233000
b1 5
1"
#234000
0"
#235000
1%
1;
0)
b0 5
07
1"
#236000
0"
#237000
b1 5
1"
#238000
0"
#239000
b0 E
b10101010 F
b0 4
1)
b0 5
17
1"
#240000
0"
#241000
b1 5
1"
#242000
0"
#243000
0%
0;
0)
b0 5
07
1"
#244000
0"
#245000
b1 5
1"
#246000
0"
#247000
b100 K
b111 <
1)
b0 5
17
1"
#248000
0"
#249000
b1 5
1"
#250000
0"
#251000
1L
0)
b0 5
07
1"
#252000
0"
#253000
b1 5
1"
#254000
0"
#255000
b0 K
b1000 <
1)
b0 5
17
1"
#256000
0"
#257000
b1 5
1"
#258000
0"
#259000
b1 K
b1010101 D
0J
1%
0L
1;
08
1)
b0 5
07
1"
#260000
0"
#261000
b1 5
1"
#262000
0"
#263000
1(
b0 <
b0 5
17
1"
#264000
0"
#265000
b1 5
1"
#266000
0"
#267000
b0 5
07
1"
#268000
0"
#269000
b1 5
1"
#270000
0"
#271000
b0 5
17
1"
#272000
0"
#273000
b1 5
1"
#274000
0"
#275000
b0 5
07
1"
#276000
0"
#277000
b1 5
1"
#278000
0"
#279000
b0 5
17
1"
#280000
0"
#281000
b1 5
1"
#282000
0"
#283000
b0 5
07
1"
#284000
0"
#285000
b1 5
1"
#286000
0"
#287000
b0 5
17
1"
#288000
0"
#289000
b1 5
1"
#290000
0"
#291000
b0 5
07
1"
#292000
0"
#293000
b1 5
1"
#294000
0"
#295000
b0 5
17
1"
#296000
0"
#297000
b1 5
1"
#298000
0"
#299000
b0 5
07
1"
#300000
0"
#301000
b1 5
1"
#302000
0"
#303000
b0 5
17
1"
#304000
0"
#305000
b1 5
1"
#306000
0"
#307000
b0 5
07
1"
#308000
0"
#309000
b1 5
1"
#310000
0"
#311000
b0 5
17
1"
#312000
0"
#313000
b1 5
1"
#314000
0"
#315000
b0 5
07
1"
#316000
0"
#317000
b1 5
1"
#318000
0"
#319000
b0 5
17
1"
#320000
0"
#321000
b1 5
1"
#322000
0"
#323000
b0 5
07
1"
#324000
0"
#325000
b1 5
1"
#326000
0"
#327000
b0 5
17
1"
#328000
0"
#329000
b1 5
1"
#330000
0"
#331000
b0 5
07
1"
#332000
0"
#333000
b1 5
1"
#334000
0"
#335000
b0 5
17
1"
#336000
0"
#337000
b1 5
1"
#338000
0"
#339000
b0 5
07
1"
#340000
0"
#341000
b1 5
1"
#342000
0"
#343000
b0 5
17
1"
#344000
0"
#345000
b1 5
1"
#346000
0"
#347000
b0 5
07
1"
#348000
0"
#349000
b1 5
1"
#350000
0"
#351000
b0 5
17
1"
#352000
0"
#353000
b1 5
1"
#354000
0"
#355000
b0 5
07
1"
#356000
0"
#357000
b1 5
1"
#358000
0"
#359000
b0 5
17
1"
#360000
0"
#361000
b1 5
1"
#362000
0"
#363000
b0 5
07
1"
#364000
0"
#365000
b1 5
1"
#366000
0"
#367000
b0 5
17
1"
#368000
0"
#369000
b1 5
1"
#370000
0"
#371000
b0 5
07
1"
#372000
0"
#373000
b1 5
1"
#374000
0"
#375000
b0 5
17
1"
#376000
0"
#377000
b1 5
1"
#378000
0"
#379000
b0 5
07
1"
#380000
0"
#381000
b1 5
1"
#382000
0"
#383000
b0 5
17
1"
#384000
0"
#385000
b1 5
1"
#386000
0"
#387000
b0 5
07
1"
#388000
0"
#389000
b1 5
1"
#390000
0"
#391000
b0 5
17
1"
#392000
0"
#393000
b1 5
1"
#394000
0"
#395000
b0 5
07
1"
#396000
0"
#397000
b1 5
1"
#398000
0"
#399000
b0 5
17
1"
#400000
0"
#401000
b1 5
1"
#402000
0"
#403000
b0 5
07
1"
#404000
0"
#405000
b1 5
1"
#406000
0"
#407000
b0 5
17
1"
#408000
0"
#409000
b1 5
1"
#410000
0"
#411000
b0 5
07
1"
#412000
0"
#413000
b1 5
1"
#414000
0"
#415000
b0 5
17
1"
#416000
0"
#417000
b1 5
1"
#418000
0"
#419000
b0 5
07
1"
#420000
0"
#421000
b1 5
1"
#422000
0"
#423000
b0 5
17
1"
#424000
0"
#425000
b1 5
1"
#426000
0"
#427000
b0 5
07
1"
#428000
0"
#429000
b1 5
1"
#430000
0"
#431000
b0 5
17
1"
#432000
0"
#433000
b1 5
1"
#434000
0"
#435000
b0 5
07
1"
#436000
0"
#437000
b1 5
1"
#438000
0"
#439000
b0 5
17
1"
#440000
0"
#441000
b1 5
1"
#442000
0"
#443000
b0 5
07
1"
#444000
0"
#445000
b1 5
1"
#446000
0"
#447000
b0 5
17
1"
#448000
0"
#449000
b1 5
1"
#450000
0"
#451000
b0 5
07
1"
#452000
0"
#453000
b1 5
1"
#454000
0"
#455000
b0 5
17
1"
#456000
0"
#457000
b1 5
1"
#458000
0"
#459000
b0 5
07
1"
#460000
0"
#461000
b1 5
1"
#462000
0"
#463000
b0 5
17
1"
#464000
0"
#465000
b1 5
1"
#466000
0"
#467000
b0 5
07
1"
#468000
0"
#469000
b1 5
1"
#470000
0"
#471000
b0 5
17
1"
#472000
0"
#473000
b1 5
1"
#474000
0"
#475000
b0 5
07
1"
#476000
0"
#477000
b1 5
1"
#478000
0"
#479000
b0 5
17
1"
#480000
0"
#481000
b1 5
1"
#482000
0"
#483000
b0 5
07
1"
#484000
0"
#485000
b1 5
1"
#486000
0"
#487000
b0 5
17
1"
#488000
0"
#489000
b1 5
1"
#490000
0"
#491000
b0 5
07
1"
#492000
0"
#493000
b1 5
1"
#494000
0"
#495000
b0 5
17
1"
#496000
0"
#497000
b1 5
1"
#498000
0"
#499000
b0 5
07
1"
#500000
0"
#501000
b1 5
1"
#502000
0"
#503000
b0 5
17
1"
#504000
0"
#505000
b1 5
1"
#506000
0"
#507000
b0 5
07
1"
#508000
0"
#509000
b1 5
1"
#510000
0"
#511000
b0 5
17
1"
#512000
0"
#513000
b1 5
1"
#514000
0"
#515000
b0 5
07
1"
#516000
0"
#517000
b1 5
1"
#518000
0"
#519000
b0 5
17
1"
#520000
0"
#521000
b1 5
1"
#522000
0"
#523000
b0 5
07
1"
#524000
0"
#525000
b1 5
1"
#526000
0"
#527000
b0 5
17
1"
#528000
0"
#529000
b1 5
1"
#530000
0"
#531000
b0 5
07
1"
#532000
0"
#533000
b1 5
1"
#534000
0"
#535000
b0 5
17
1"
#536000
0"
#537000
b1 5
1"
#538000
0"
#539000
b0 5
07
1"
#540000
0"
#541000
b1 5
1"
#542000
0"
#543000
b0 5
17
1"
#544000
0"
#545000
b1 5
1"
#546000
0"
#547000
b0 5
07
1"
#548000
0"
#549000
b1 5
1"
#550000
0"
#551000
b0 5
17
1"
#552000
0"
#553000
b1 5
1"
#554000
0"
#555000
b0 5
07
1"
#556000
0"
#557000
b1 5
1"
#558000
0"
#559000
b0 5
17
1"
#560000
0"
#561000
b1 5
1"
#562000
0"
#563000
b0 5
07
1"
#564000
0"
#565000
b1 5
1"
#566000
0"
#567000
b0 5
17
1"
#568000
0"
#569000
b1 5
1"
#570000
0"
#571000
b0 5
07
1"
#572000
0"
#573000
b1 5
1"
#574000
0"
#575000
b0 5
17
1"
#576000
0"
#577000
b1 5
1"
#578000
0"
#579000
b0 5
07
1"
#580000
0"
#581000
b1 5
1"
#582000
0"
#583000
b0 5
17
1"
#584000
0"
#585000
b1 5
1"
#586000
0"
#587000
b0 5
07
1"
#588000
0"
#589000
b1 5
1"
#590000
0"
#591000
b0 5
17
1"
#592000
0"
#593000
b1 5
1"
#594000
0"
#595000
b0 5
07
1"
#596000
0"
#597000
b1 5
1"
#598000
0"
#599000
b0 5
17
1"
#600000
0"
#601000
b1 5
1"
#602000
0"
#603000
b0 5
07
1"
#604000
0"
#605000
b1 5
1"
#606000
0"
#607000
b0 5
17
1"
#608000
0"
#609000
b1 5
1"
#610000
0"
